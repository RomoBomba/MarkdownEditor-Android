# Markdown Editor для Android

Это Android-приложение, разработанное для просмотра и редактирования Markdown-файлов. Оно предоставляет удобный интерфейс для чтения и изменения Markdown-документов на устройствах Android.

## Демо

<img src="sources/record.gif" alt="Демо" width="200">

### Ключевые требования
- **Загрузка документов**:
    - Выбор локальных .md файлов
    - Загрузка по URL
    - Загруженный файл отображается в preview-режима или редактируется по выбору
- **Просмотр Markdown**:
    - Отображает отформатированный документ
    - Нативный рендеринг через View-компоненты
    - Поддержка: заголовки H1-H6, жирный/курсивный/зачеркнутый текст, таблицы, изображения(JPG и PNG)
- **Редактирование**:
    - Текстовый редактор с панелью инструментов
    - Сохранение изменений
- **Технические ограничения**:
    - Запрещено использование WebView, Jetpack Compose
    - Запрещены сторонние библиотеки для парсинга и работы с изображением
    - Только нативные Android View

### Полная реализация
Все требования технического задания были полностью реализованы, включая:
- Нативный парсер Markdown
- Оптимизированный рендеринг таблиц с поддержкой выравнивания
- Кеширование изображений
- Юнит-тестирование основной логики
- Поддержка заголовков, жирного, курсивного и зачеркнутого текста, таблиц и изображений.
- Загрузка файлов из локального хранилища или скачивание по URL(с сохранением локально).

### Архитектурные решения
- **Модульная структура**:
    - Парсер (MarkdownParser, TableParser)
    - Утилиты (ImageLoader, FileUtils, NetworkUtils)
    - Активности (Main, View, Edit)
    - Тесты (MarkdownParserTest, TableParserTest)
- **Оптимизация производительности**:
    - LruCache для кеширования изображений
    - Оптимизированные алгоритмы парсинга
    - Асинхронная загрузка контента
- **Обработка ошибок**:
    - Гибкая система обработки исключений
    - Визуальная обратная связь для пользователя

## Установка

1. Склонируйте репозиторий:
```bash
git clone https://github.com/yourusername/markdown-editor-android.git
```

2. Откройте проект в Android Studio.
3. Соберите проект, чтобы сгенерировать APK.
4. Установите APK на свое Android-устройство или эмулятор.

## Использование

1. **Загрузка файла**:
- Нажмите "Выбрать файл", чтобы открыть локальный `.md` файл.
- Или введите URL для загрузки Markdown-файла.

2. **Просмотр и редактирование**:
- Файл отобразится с форматированным Markdown.
- Нажмите "Редактировать", чтобы изменить содержимое с помощью панели форматирования.

3. **Сохранение**:
- После редактирования нажмите "Сохранить", чтобы зафиксировать изменения.

## Юнит-тесты

![Результат тестов парсера](sources/parsertest.png =400x)

*Результат юнит-тестирования парсера.*

![Результат тестов парсера таблиц](sources/tabletest.png =400x)

*Результат юнит-тестирования парсера таблиц отдельно.*

## Используемые технологии

- Android SDK
- Java
- MVC
- JUnit, Robolectric для юнит-тестирования
- Библиотеки AndroidX
